<!doctype html>
<html lang="en-us">
  <head>
    <title>LeetCode习题_8 // Talian</title>
    <meta charset="utf-8" />
    <meta name="generator" content="Hugo 0.68.1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="author" content="taliantiger" />
    <meta name="description" content="" />
    <link rel="stylesheet" href="https://taliantiger.github.io/css/main.min.f90f5edd436ec7b74ad05479a05705770306911f721193e7845948fb07fe1335.css" />

    
    <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="LeetCode习题_8"/>
<meta name="twitter:description" content="LeetCode习题_字符串转整数  请你来实现一个 atoi 函数，使其能将字符串转换成整数。
 首先，该函数会根据需要丢弃无用的开头空格字符，直到寻找到第一个非空格的字符为止。接下来的转化规则如下：
  如果第一个非空字符为正或者负号时，则将该符号与之后面尽可能多的连续数字字符组合起来，形成一个有符号整数。
  假如第一个非空字符是数字，则直接将其与之后连续的数字字符组合起来，形成一个整数。
  该字符串在有效的整数部分之后也可能会存在多余的字符，那么这些字符可以被忽略，它们对函数不应该造成影响。
   注意：假如该字符串中的第一个非空格字符不是一个有效整数字符、字符串为空或字符串仅包含空白字符时，则你的函数不需要进行转换，即无法进行有效转换。 在任何情况下，若函数不能进行有效的转换时，请返回 0 。
提示：
本题中的空白字符只包括空格字符 &#39; &#39; 。 假设我们的环境只能存储 32 位大小的有符号整数，那么其数值范围为 [−231, 231 − 1]。如果数值超过这个范围，请返回 INT_MAX (231 − 1) 或 INT_MIN (−231) 。 示例 1:
输入: &ldquo;42&rdquo;
输出: 42
示例 2:
输入: &quot; -42&rdquo;
输出: -42
解释: 第一个非空白字符为 &lsquo;-&#39;, 它是一个负号。 我们尽可能将负号与后面所有连续出现的数字组合起来，最后得到 -42 。 示例 3:
输入: &ldquo;4193 with words&rdquo;
输出: 4193"/>

    <meta property="og:title" content="LeetCode习题_8" />
<meta property="og:description" content="LeetCode习题_字符串转整数  请你来实现一个 atoi 函数，使其能将字符串转换成整数。
 首先，该函数会根据需要丢弃无用的开头空格字符，直到寻找到第一个非空格的字符为止。接下来的转化规则如下：
  如果第一个非空字符为正或者负号时，则将该符号与之后面尽可能多的连续数字字符组合起来，形成一个有符号整数。
  假如第一个非空字符是数字，则直接将其与之后连续的数字字符组合起来，形成一个整数。
  该字符串在有效的整数部分之后也可能会存在多余的字符，那么这些字符可以被忽略，它们对函数不应该造成影响。
   注意：假如该字符串中的第一个非空格字符不是一个有效整数字符、字符串为空或字符串仅包含空白字符时，则你的函数不需要进行转换，即无法进行有效转换。 在任何情况下，若函数不能进行有效的转换时，请返回 0 。
提示：
本题中的空白字符只包括空格字符 &#39; &#39; 。 假设我们的环境只能存储 32 位大小的有符号整数，那么其数值范围为 [−231, 231 − 1]。如果数值超过这个范围，请返回 INT_MAX (231 − 1) 或 INT_MIN (−231) 。 示例 1:
输入: &ldquo;42&rdquo;
输出: 42
示例 2:
输入: &quot; -42&rdquo;
输出: -42
解释: 第一个非空白字符为 &lsquo;-&#39;, 它是一个负号。 我们尽可能将负号与后面所有连续出现的数字组合起来，最后得到 -42 。 示例 3:
输入: &ldquo;4193 with words&rdquo;
输出: 4193" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://taliantiger.github.io/post3/leetcode%E4%B9%A0%E9%A2%98_8/" />
<meta property="article:published_time" content="2020-06-10T21:19:56+08:00" />
<meta property="article:modified_time" content="2020-06-10T21:19:56+08:00" />


  </head>
  <body>
    <header class="app-header">
      <a href="https://taliantiger.github.io/"><img class="app-header-avatar" src="/avatar.jpg" alt="taliantiger" /></a>
      <h1>Talian</h1>
      <p>Empty talk spoils the country, but practical action prospers the country</p>
      <div class="app-header-social">
        
          <a target="_blank" href="https://github.com/taliantiger" rel="noreferrer noopener"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-github">
  <title>github</title>
  <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path>
</svg></a>
        
      </div>
    </header>
    <main class="app-container">
      
  <article class="post">
    <header class="post-header">
      <h1 class ="post-title">LeetCode习题_8</h1>
      <div class="post-meta">
        <div>
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-calendar">
  <title>calendar</title>
  <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line>
</svg>
          Jun 10, 2020
        </div>
        <div>
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-clock">
  <title>clock</title>
  <circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline>
</svg>
          2 min read
        </div></div>
    </header>
    <div class="post-content">
      <h3 id="leetcode习题_字符串转整数">LeetCode习题_字符串转整数</h3>
<p>     请你来实现一个 atoi 函数，使其能将字符串转换成整数。</p>
<p>     首先，该函数会根据需要丢弃无用的开头空格字符，直到寻找到第一个非空格的字符为止。接下来的转化规则如下：</p>
<ul>
<li>
<p>如果第一个非空字符为正或者负号时，则将该符号与之后面尽可能多的连续数字字符组合起来，形成一个有符号整数。</p>
</li>
<li>
<p>假如第一个非空字符是数字，则直接将其与之后连续的数字字符组合起来，形成一个整数。</p>
</li>
<li>
<p>该字符串在有效的整数部分之后也可能会存在多余的字符，那么这些字符可以被忽略，它们对函数不应该造成影响。</p>
</li>
</ul>
<p>     注意：假如该字符串中的第一个非空格字符不是一个有效整数字符、字符串为空或字符串仅包含空白字符时，则你的函数不需要进行转换，即无法进行有效转换。
在任何情况下，若函数不能进行有效的转换时，请返回 0 。</p>
<p>提示：</p>
<p>本题中的空白字符只包括空格字符 ' ' 。
假设我们的环境只能存储 32 位大小的有符号整数，那么其数值范围为 [−231,  231 − 1]。如果数值超过这个范围，请返回  INT_MAX (231 − 1) 或 INT_MIN (−231) 。
 </p>
<p>示例 1:</p>
<p>输入: &ldquo;42&rdquo;</p>
<p>输出: 42</p>
<p>示例 2:</p>
<p>输入: &quot;   -42&rdquo;</p>
<p>输出: -42</p>
<p>解释: 第一个非空白字符为 &lsquo;-', 它是一个负号。
     我们尽可能将负号与后面所有连续出现的数字组合起来，最后得到 -42 。
示例 3:</p>
<p>输入: &ldquo;4193 with words&rdquo;</p>
<p>输出: 4193</p>
<p>解释: 转换截止于数字 &lsquo;3&rsquo; ，因为它的下一个字符不为数字。</p>
<p>示例 4:</p>
<p>输入: &ldquo;words and 987&rdquo;</p>
<p>输出: 0</p>
<p>解释: 第一个非空字符是 &lsquo;w&rsquo;, 但它不是数字或正、负号。因此无法执行有效的转换。</p>
<p>示例 5:</p>
<p>输入: &ldquo;-91283472332&rdquo;</p>
<p>输出: -2147483648</p>
<p>解释: 数字 &ldquo;-91283472332&rdquo; 超过 32 位有符号整数范围。因此返回 INT_MIN (−231) 。</p>
<hr>
<h4 id="最终修改结果">最终修改结果</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Java" data-lang="Java"><span style="color:#75715e">// 20200613 问题解决了
</span><span style="color:#75715e">// 一步一步把原理搞懂，就知道哪里写错了。
</span><span style="color:#75715e"></span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Solution</span> <span style="color:#f92672">{</span>
	<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">myAtoi</span><span style="color:#f92672">(</span>String str<span style="color:#f92672">)</span>   <span style="color:#f92672">{</span>    <span style="color:#75715e">// 定义一个静态类型的方法Atoi
</span><span style="color:#75715e"></span>		<span style="color:#66d9ef">char</span><span style="color:#f92672">[]</span> chars <span style="color:#f92672">=</span> str<span style="color:#f92672">.</span><span style="color:#a6e22e">toCharArray</span><span style="color:#f92672">();</span>       <span style="color:#75715e">//  定义一个字符型数组
</span><span style="color:#75715e"></span>		<span style="color:#66d9ef">int</span> n <span style="color:#f92672">=</span> chars<span style="color:#f92672">.</span><span style="color:#a6e22e">length</span><span style="color:#f92672">;</span>						  <span style="color:#75715e">// 初始化整型变量n，大小为数组chars的长度
</span><span style="color:#75715e"></span>		<span style="color:#66d9ef">int</span> idx <span style="color:#f92672">=</span> 0<span style="color:#f92672">;</span>									  <span style="color:#75715e">// 初始化整型变量idx，大小为0。
</span><span style="color:#75715e"></span>
		<span style="color:#75715e">/* 先把各种特殊情况判断完  */</span>
		<span style="color:#66d9ef">while</span> <span style="color:#f92672">(</span>idx <span style="color:#f92672">&lt;</span> n <span style="color:#f92672">&amp;&amp;</span> chars<span style="color:#f92672">[</span>idx<span style="color:#f92672">]</span> <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39; &#39;</span><span style="color:#f92672">)</span>   <span style="color:#f92672">{</span>      <span style="color:#75715e">// 当char[idx] 为空格时
</span><span style="color:#75715e"></span>			<span style="color:#75715e">// 去掉前导空格
</span><span style="color:#75715e"></span>			idx<span style="color:#f92672">++;</span>                                                 <span style="color:#75715e">// 跳过char[idx]
</span><span style="color:#75715e"></span>		<span style="color:#f92672">}</span>
		<span style="color:#75715e">// if (idx == 0)   {                                     // 之前这里代码写错了 ，导致返回结果老是为0。   
</span><span style="color:#75715e"></span>		<span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>idx <span style="color:#f92672">==</span> n<span style="color:#f92672">)</span>   <span style="color:#f92672">{</span>     
			<span style="color:#75715e">// 去掉前导空格以后到了末尾了
</span><span style="color:#75715e"></span>			<span style="color:#66d9ef">return</span> 0<span style="color:#f92672">;</span>                                           <span style="color:#75715e">// 返回 0。
</span><span style="color:#75715e"></span>		<span style="color:#f92672">}</span>
		<span style="color:#66d9ef">boolean</span> negative <span style="color:#f92672">=</span> <span style="color:#66d9ef">false</span><span style="color:#f92672">;</span>                    <span style="color:#75715e">// 初始化布尔类型变量negative,初始值为false。 
</span><span style="color:#75715e"></span>		<span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>chars<span style="color:#f92672">[</span>idx<span style="color:#f92672">]</span> <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;-&#39;</span><span style="color:#f92672">)</span>   <span style="color:#f92672">{</span>                          <span style="color:#75715e">// 判断数字是否为负号
</span><span style="color:#75715e"></span>			<span style="color:#75715e">// 遇到负号
</span><span style="color:#75715e"></span>			negative <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span> <span style="color:#f92672">;</span>                             <span style="color:#75715e">// 令布尔类型变量值为true。
</span><span style="color:#75715e"></span>			idx<span style="color:#f92672">++;</span>                                             <span style="color:#75715e">// 前往下一个元素
</span><span style="color:#75715e"></span>		<span style="color:#f92672">}</span>   
		<span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>chars<span style="color:#f92672">[</span>idx<span style="color:#f92672">]</span> <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;+&#39;</span> <span style="color:#f92672">)</span>   	<span style="color:#f92672">{</span>              
			<span style="color:#75715e">// 遇到正号
</span><span style="color:#75715e"></span>			idx<span style="color:#f92672">++;</span>                                             <span style="color:#75715e">// 前往下一个元素
</span><span style="color:#75715e"></span>		<span style="color:#f92672">}</span>
		<span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> <span style="color:#f92672">(!</span>Character<span style="color:#f92672">.</span><span style="color:#a6e22e">isDigit</span><span style="color:#f92672">(</span>chars<span style="color:#f92672">[</span>idx<span style="color:#f92672">]))</span>  <span style="color:#f92672">{</span>  <span style="color:#75715e">//Character.isDigit() 方法用于判断指定字符是否为数字。如果字符为数字，则返回 true；否则返回 false。
</span><span style="color:#75715e"></span>			 <span style="color:#75715e">// 其他符号
</span><span style="color:#75715e"></span>			  <span style="color:#66d9ef">return</span> 0 <span style="color:#f92672">;</span>
		<span style="color:#f92672">}</span>
		<span style="color:#66d9ef">int</span> ans <span style="color:#f92672">=</span> 0<span style="color:#f92672">;</span>                                        <span style="color:#75715e">// 初始化整型变量ans，初始值为0
</span><span style="color:#75715e"></span>
		<span style="color:#75715e">/* 判断一般情况 */</span>
		<span style="color:#66d9ef">while</span> <span style="color:#f92672">(</span>idx <span style="color:#f92672">&lt;</span> n <span style="color:#f92672">&amp;&amp;</span> Character<span style="color:#f92672">.</span><span style="color:#a6e22e">isDigit</span><span style="color:#f92672">(</span>chars<span style="color:#f92672">[</span>idx<span style="color:#f92672">])</span> <span style="color:#f92672">)</span> 		<span style="color:#f92672">{</span>  <span style="color:#75715e">// 当idx的值小于n，同时chars[idx]的值是数字时
</span><span style="color:#75715e"></span>			<span style="color:#66d9ef">int</span> digit <span style="color:#f92672">=</span> chars<span style="color:#f92672">[</span>idx<span style="color:#f92672">]</span> <span style="color:#f92672">-</span> <span style="color:#e6db74">&#39;0&#39;</span> <span style="color:#f92672">;</span>                                        <span style="color:#75715e">// 令digit的值等于    字符chars[idx]对应的ascaII码 -  字符0对应的ascall码
</span><span style="color:#75715e"></span>			<span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>ans <span style="color:#f92672">&gt;</span> <span style="color:#f92672">(</span>Integer<span style="color:#f92672">.</span><span style="color:#a6e22e">MAX_VALUE</span> <span style="color:#f92672">-</span> digit<span style="color:#f92672">)</span> <span style="color:#f92672">/</span> 10 <span style="color:#f92672">)</span>   <span style="color:#f92672">{</span>
				<span style="color:#75715e">// 本应该是ans * 10 + digit &gt; Integer.MAX_VALUE
</span><span style="color:#75715e"></span>				<span style="color:#75715e">// 但是 *10 和 + digit 都有可能越界，所有都移动到右边去就可以了。
</span><span style="color:#75715e"></span>				<span style="color:#66d9ef">return</span> negative<span style="color:#f92672">?</span> Integer<span style="color:#f92672">.</span><span style="color:#a6e22e">MIN_VALUE</span> <span style="color:#f92672">:</span> Integer<span style="color:#f92672">.</span><span style="color:#a6e22e">MAX_VALUE</span> <span style="color:#f92672">;</span>         <span style="color:#75715e">// 如果越界了，就执行这个操作。
</span><span style="color:#75715e"></span>			<span style="color:#f92672">}</span>

            <span style="color:#75715e">// 普通字符串串转整数算法
</span><span style="color:#75715e"></span>			<span style="color:#75715e">/*    本题考查的实际上就是字符串转换成整数的问题，或者说是要你自行实现atoi函数。那如何实现把表示整数的字符串正确地转换成整数呢？
</span><span style="color:#75715e">			以&#34;345&#34;作为例子：
</span><span style="color:#75715e">				当我们扫描到字符串的第一个字符&#39;3&#39;时，由于我们知道这是第一位，所以得到数字3。
</span><span style="color:#75715e">				当扫描到第二个数字&#39;4&#39;时，而之前我们知道前面有一个3，所以便在后面加上一个数字4，那前面的3相当于30，因此得到数字：3*10+4=34。
</span><span style="color:#75715e">				继续扫描到字符&#39;5&#39;，&#39;5&#39;的前面已经有了34，由于前面的34相当于340，加上后面扫描到的5，最终得到的数是：34*10+5=345。
</span><span style="color:#75715e">				因此，此题的思路便是：每扫描到一个字符，我们便把在之前得到的数字乘以10，然后再加上当前字符表示的数字。                    */</span>

			ans <span style="color:#f92672">=</span> ans <span style="color:#f92672">*</span> 10 <span style="color:#f92672">+</span> digit<span style="color:#f92672">;</span>                    <span style="color:#75715e">// 如果没越界，就直接套用字符串转整数算法。
</span><span style="color:#75715e"></span>			idx<span style="color:#f92672">++;</span>                                           <span style="color:#75715e">// 判断下一个元素              
</span><span style="color:#75715e"></span>		<span style="color:#f92672">}</span>
		<span style="color:#66d9ef">return</span> negative<span style="color:#f92672">?</span> <span style="color:#f92672">-</span>ans <span style="color:#f92672">:</span> ans<span style="color:#f92672">;</span>                <span style="color:#75715e">// 正负号对应不同结果
</span><span style="color:#75715e"></span>	<span style="color:#f92672">}</span>

	<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span> <span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span>   <span style="color:#f92672">{</span>
		<span style="color:#66d9ef">int</span> result_1<span style="color:#f92672">;</span>
        
		<span style="color:#75715e">// ？？？这个输出有点问题，和预设大的不一样 
</span><span style="color:#75715e"></span>		 String str <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;4193 with words&#34;</span>  <span style="color:#f92672">;</span>  
		
		<span style="color:#75715e">//String str = &#34;   -42&#34;  ;
</span><span style="color:#75715e"></span>
		result_1 <span style="color:#f92672">=</span> myAtoi<span style="color:#f92672">(</span>str<span style="color:#f92672">)</span>  <span style="color:#f92672">;</span>
		<span style="color:#75715e">// 调用形参时，不要加入类型备注，如“String&#34;;否则会出现： 错误，需要 ） =》 &#34;Solution.java:46: 错误: 需要&#39;)&#39;   &#34;
</span><span style="color:#75715e"></span>		<span style="color:#75715e">// result_1 = myAtoi(String str)  ;  
</span><span style="color:#75715e"></span>
	    System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>result_1<span style="color:#f92672">);</span>
	<span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><hr>
<p><a href="https://leetcode-cn.com/problems/string-to-integer-atoi/">题目来源</a></p>
<p><a href="https://leetcode-cn.com/problems/string-to-integer-atoi/solution/java-zi-fu-chuan-zhuan-zheng-shu-hao-dong-by-sweet/">题解来源</a></p>

    </div>
    <div class="post-footer">
      
    </div>
  </article>

    </main>
  </body>
</html>
